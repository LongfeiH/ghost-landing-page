<div class="bg-gray-200 flex items-center justify-center learn-membership">
   <!--Modal-->
   <div
      class="modal opacity-0 transition-opacity ease-in duration-100 pointer-events-none fixed w-full h-full top-0 left-0 flex items-center justify-center backdrop-blur-[2px]">
      <div class="modal-overlay absolute w-full h-full bg-gray-900 opacity-95  "></div>
      <div class="modal-container bg-white mx-auto rounded shadow-lg z-50 overflow-y-auto">
         <div
            class="modal-close absolute top-0 right-0 cursor-pointer flex flex-col items-center mt-4 mr-4 text-white text-sm z-50">
            <svg class="fill-current text-white" xmlns="http://www.w3.org/2000/svg" width="18" height="18"
               viewBox="0 0 18 18">
               <path
                  d="M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z">
               </path>
            </svg>
            <span class="text-sm">(ESC)</span>
         </div>
         <!-- Add margin if you want to see some of the overlay behind the modal-->
         <div class="modal-content py-6 text-left px-6 max-w-xl  overflow-y-auto max-h-[calc(100vh-172px)] sm:max-h-[70vh] -mt-[1px]">
            {{#get "tiers" include="monthly_price,yearly_price,benefits" limit="all" as |tiers|}}
            {{#foreach tiers}}
            <div class="membership-area" id="id-{{id}}">
               <h3  class="font-serif text-2xl text-center text-gray-800 font-bold
                  mb-4 py-4">   {{name}}</h3>
               <div class="grid lg:grid-cols-2 md:grid-cols-2 gap-8 px-8 pb-8">
                  <div
                     class="membership-card flex justify-between flex-col bg-white shadow   p-8 rounded-md  transition duration-500 ">
                     <div class="membership-item">
                        {{#if monthly_price}}
                        <div class="membership-card-price border-b pb-4 mb-4 border-blue-100">
                           <span class="inline-block text-sm text-blue-800 font-bold bg-blue-50 rounded group-hover:bg-white py-1 px-4 ">{{t "Monthly"}}</span>
                           <h2 class="font-serif font-bold text-5xl py-4  pricing-table__price">{{price monthly_price currency=currency}}</h2>
                           <p class="text-md pt-2 ">{{description}}</p>
                        </div>
                        {{/if}}
                        {{#if benefits}}
                        <ul class="text-sm text-gray-400">
                           {{#foreach benefits as |benefit|}}
                           <li>
                              <span>
                                 <svg class="w-3 inline-block mr-2" xmlns="http://www.w3.org/2000/svg"
                                    viewBox="0 0 448 512">
                                    <path class="fill-gray-400"
                                       d="M438.6 105.4C451.1 117.9 451.1 138.1 438.6 150.6L182.6 406.6C170.1 419.1 149.9 419.1 137.4 406.6L9.372 278.6C-3.124 266.1-3.124 245.9 9.372 233.4C21.87 220.9 42.13 220.9 54.63 233.4L159.1 338.7L393.4 105.4C405.9 92.88 426.1 92.88 438.6 105.4H438.6z" />
                                 </svg>
                              </span>
                              {{benefit}}
                           </li>
                           {{/foreach}}
                        </ul>
                        {{/if}}
                     </div>
                     <a href="javascript:" data-portal="signup/{{id}}/monthly"
                        class="membership-button mt-5 py-3 text-center font-bold btn-md-2 text-blue-800 border-2 border-blue-800 hover:bg-blue-800 rounded-md hover:text-blue-50 group duration-300">{{t "Enroll Now"}}</a>
                  </div>
                  <div
                     class="membership-card flex justify-between flex-col bg-white shadow   p-8 rounded-md  transition duration-500">
                     <div class="membership-item">
                        {{#if yearly_price}}
                        <div class="membership-card-price border-b pb-4 mb-4 border-blue-100">
                           <span class="inline-block text-sm text-blue-800 font-bold bg-blue-50 rounded group-hover:bg-white py-1 px-4  ">{{t "Yearly"}}</span>
                           <h2 class="font-serif font-bold text-5xl py-4  pricing-table__price">{{price yearly_price currency=currency}}</h2>
                           <p class="text-md pt-2 ">{{description}}</p>
                        </div>
                        {{/if}}
                        {{#if benefits}}
                        <ul class="text-sm text-gray-400">
                           {{#foreach benefits as |benefit|}}
                           <li>
                              <span>
                                 <svg class="w-3 inline-block mr-2" xmlns="http://www.w3.org/2000/svg"
                                    viewBox="0 0 448 512">
                                    <path class="fill-gray-400"
                                       d="M438.6 105.4C451.1 117.9 451.1 138.1 438.6 150.6L182.6 406.6C170.1 419.1 149.9 419.1 137.4 406.6L9.372 278.6C-3.124 266.1-3.124 245.9 9.372 233.4C21.87 220.9 42.13 220.9 54.63 233.4L159.1 338.7L393.4 105.4C405.9 92.88 426.1 92.88 438.6 105.4H438.6z" />
                                 </svg>
                              </span>
                              {{benefit}}
                           </li>
                           {{/foreach}}
                        </ul>
                        {{/if}}
                     </div>
                     <a href="javascript:" data-portal="signup/{{id}}/yearly"
                        class="membership-button mt-5 py-3 text-center font-bold btn-md-2 text-blue-800 border-2 border-blue-800 hover:bg-blue-800 rounded-md hover:text-blue-50 group duration-300">{{t "Enroll Now"}}</a>
                  </div>
               </div>
            </div>
            {{/foreach}}
            {{/get}}
         </div>
      </div>
   </div>
</div>
<script>
   window.onload = function(){
       if($('a.gh-btn.gh-portal-close').length > 0)
       {   
           $('a.gh-btn.gh-portal-close').remove();
           $('<a href="#" class="gh-btn modal-open">Enroll Now</a>').insertAfter('.gh-post-upgrade-cta h2');
   
       }
   
       var openmodal = document.querySelectorAll(".modal-open");
       for (var i = 0; i < openmodal.length; i++) {
           openmodal[i].addEventListener("click", function (event) {
               event.preventDefault();
               toggleModal();
           });
       }
   
       const overlay = document.querySelector(".modal-overlay");
       overlay.addEventListener("click", toggleModal);
   
       var closemodal = document.querySelectorAll(".modal-close");
       for (var i = 0; i < closemodal.length; i++) {
           closemodal[i].addEventListener("click", toggleModal);
       }
   
       document.onkeydown = function (evt) {
           evt = evt || window.event;
           var isEscape = false;
           if ("key" in evt) {
               isEscape = evt.key === "Escape" || evt.key === "Esc";
           } else {
               isEscape = evt.keyCode === 27;
           }
           if (isEscape && document.body.classList.contains("modal-active")) {
               toggleModal();
           }
       };
   
       function toggleModal() {
           const body = document.querySelector("body");
           const modal = document.querySelector(".modal");
           modal.classList.toggle("opacity-0");
           modal.classList.toggle("pointer-events-none");
           body.classList.toggle("modal-active");
       }
   
       $(".modal-content").children(`:not(${tiersID.toString()}, form)`).remove();
      
   };
</script>